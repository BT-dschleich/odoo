<odoo>
    <act_window id="library_book_action"
                name="Books"
                res_model="library.book" />
    <act_window id="library_customer_action"
                name="Customers"
                res_model="res.partner" />

    <menuitem id="main_library_menu" name="Library Management" />
        <menuitem id="library_menu" name="Library" parent="main_library_menu" />
            <menuitem id="books_menu" name="Books" parent="library_menu" action="library_book_action" sequence="1" />
            <menuitem id="customers_menu" name="Customers" parent="library_menu" action="library_customer_action" sequence="10" />
    
    <record model="ir.ui.view" id="book_tree_view">
        <field name="name">book.tree</field>
        <field name="model">library.book</field>
        <field name="arch" type="xml">
            <tree decoration-warning="state!='available'">
                <field name="name" />
                <field name="authors" widget="many2many_tags"/>
                <field name="editor" />
                <field name="date_of_edition" />
                <field name="state" />
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="book_form_view">
        <field name="name">book.form</field>
        <field name="model">library.book</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <h1>
                        <field name="name" placeholder="Title" />
                    </h1>
                    <group>
                        <group>
                            <field name="authors" widget="many2many_tags" />
                            <field name="editor" />
                            <field name="date_of_edition" />
                            <field name="isbn" />
                            <separator />
                            <field name="active" />
                            <field name="state" /> 
                        </group>
                        <group>
                            <field name="cover" widget="image" />
                        </group>
                    </group>
                    <group>
                        <field name="rental_history">
                            <tree>
                                <field name="customer" />
                                <field name="date_borrowed" />
                                <field name="date_returned" />
                            </tree>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="customer_tree_view">
        <field name="name">customer.tree</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name" />
                <field name="contact_address" />
                <field name="email" />
                <field name="phone" />
                <field name="mobile" />
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="view_partner_form">
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form" />
        <field name="arch" type="xml">
            <xpath  expr="//notebook" position="inside">
                <page name="Library" string="Library">
                    <group>
                        <field name="is_author" invisible="1" />
                        <field name="is_customer" invisible="1" />
                        <field name="is_editor" invisible="1" />
                        <field name="books_rented"
                               attrs="{'invisible': [('is_customer', '=', False)]}">
                            <tree>
                                <field name="book" />
                                <field name="date_borrowed" />
                                <field name="date_returned" />
                            </tree>
                        </field>
                        <field name="books_authored"
                               attrs="{'invisible': [('is_author', '=', False)]}">
                            <tree>
                                <field name="name" />
                                <field name="editor" />
                                <field name="date_of_edition" />
                                <field name="state" />
                            </tree>
                        </field>
                        <field name="books_edited"
                               attrs="{'invisible': [('is_editor', '=', False)]}">
                            <tree>
                                <field name="name" />
                                <field name="authors" widget="many2many_tags" />
                                <field name="date_of_edition" />
                                <field name="state" />
                            </tree>
                        </field>
                    </group>
                </page>
            </xpath>

            <field name="name" position="after">
                <h2>
                    <span attrs="{'invisible': [('is_author', '=', False)]}">Author </span>
                    <span attrs="{'invisible': [('is_editor', '=', False)]}">Editor </span>
                    <span attrs="{'invisible': [('is_customer', '=', False)]}">Customer </span>
                </h2>
            </field>
        </field>
    </record>
</odoo>